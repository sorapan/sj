// Generated by CoffeeScript 1.7.1
(function() {
  var UnreadMsg, UnreadMsgNoPoll, ViewAll;

  $(document).ready(function() {
    UnreadMsgNoPoll();
    return $(' .chatlink').click(function(e) {
      e.preventDefault();
      ViewAll();
      UnreadMsgNoPoll();
      return window.open($(this).attr('href'), 'chat', 'scrollbars=1,height=550,width=500');
    });
  });

  UnreadMsg = function() {
    return $.ajax({
      url: 'memberlist/unread',
      type: 'POST',
      dataType: 'JSON',
      success: function(d) {
        var a, _results;
        _results = [];
        for (a in d) {
          _results.push($("#" + a).html(d[a]));
        }
        return _results;
      }
    });
  };

  UnreadMsgNoPoll = function() {
    return $.ajax({
      url: 'memberlist/unreadNopoll',
      type: 'POST',
      dataType: 'JSON',
      success: function(d) {
        var a;
        for (a in d) {
          $("#" + a).html(d[a]);
        }
        return UnreadMsg();
      }
    });
  };

  ViewAll = function() {
    return $.ajax({
      url: 'memberlist/SetViewAll',
      type: 'POST'
    });
  };

}).call(this);

//# sourceMappingURL=memberlist.map
